<nav>
    <ul>
        <% var groups = ['Getting started', 'API', 'Features'];
        var pageGroups = site.pages.reduce(function (memo, p) {
            var key = p.group;
            (memo[key] = memo[key] || []).push(p);
            return memo;
        }, {});

        for (var i = 0; i < groups.length; i++) {
            var group = groups[i];

        if (pageGroups.hasOwnProperty(group)){ %>
        <li><h3><%- group %></h3></li>
        <% var page = pageGroups[group];
            var pages = page.sort(function (a, b) {
                return a.order > b.order;
            });

        for (var i = 0; i < pages.length; i++) {
            var p = pageGroups[group][i]; %>
        <li class="<%- page.title === p.title ? 'current' : '' %> ">
            <a href="<%- url_for(p.path) %>"><%- p.title %></a>
        </li>
        <% }}} %>

    </ul>
</nav>
